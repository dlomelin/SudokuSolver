import unittest
from SudokuSolver.modules.Sudoku import Sudoku

class TestSudoku(unittest.TestCase):
	def setUp(self):
		pass

	def test_solveXwingColPuzzle(self):
		startData = [
			['1', ' ', '9', '7', ' ', ' ', '6', ' ', '2'],
			[' ', '7', ' ', ' ', '6', ' ', ' ', '1', ' '],
			['4', ' ', ' ', ' ', ' ', '9', '5', ' ', ' '],
			['5', ' ', ' ', ' ', ' ', '3', '7', ' ', ' '],
			[' ', '8', '7', ' ', '5', ' ', ' ', '6', ' '],
			[' ', ' ', '1', '8', ' ', ' ', ' ', ' ', '5'],
			[' ', ' ', '3', '9', ' ', ' ', ' ', ' ', '6'],
			[' ', '1', ' ', ' ', '8', ' ', ' ', '9', ' '],
			['7', '9', ' ', ' ', ' ', '4', '2', ' ', ' '],
		]

		solvedData = [
			['1', '5', '9', '7', '3', '8', '6', '4', '2'],
			['3', '7', '2', '4', '6', '5', '8', '1', '9'],
			['4', '6', '8', '1', '2', '9', '5', '7', '3'],
			['5', '2', '4', '6', '9', '3', '7', '8', '1'],
			['9', '8', '7', '2', '5', '1', '3', '6', '4'],
			['6', '3', '1', '8', '4', '7', '9', '2', '5'],
			['8', '4', '3', '9', '7', '2', '1', '5', '6'],
			['2', '1', '5', '3', '8', '6', '4', '9', '7'],
			['7', '9', '6', '5', '1', '4', '2', '3', '8'],
		]

		self.__validateSolver(startData, solvedData)

	def test_solveMultipleLines(self):
		startData = [
			[' ', ' ', '9', ' ', '3', ' ', '6', ' ', ' '],
			[' ', '3', '6', ' ', '1', '4', ' ', '8', '9'],
			['1', ' ', ' ', '8', '6', '9', ' ', '3', '5'],
			[' ', '9', ' ', ' ', ' ', ' ', '8', ' ', ' '],
			[' ', '1', ' ', ' ', ' ', ' ', ' ', '9', ' '],
			[' ', '6', '8', ' ', '9', ' ', '1', '7', ' '],
			['6', ' ', '1', '9', ' ', '3', ' ', ' ', '2'],
			['9', '7', '2', '6', '4', ' ', '3', ' ', ' '],
			[' ', ' ', '3', ' ', '2', ' ', '9', ' ', ' '],
		]

		solvedData = [
			['8', '4', '9', '5', '3', '2', '6', '1', '7'],
			['5', '3', '6', '7', '1', '4', '2', '8', '9'],
			['1', '2', '7', '8', '6', '9', '4', '3', '5'],
			['3', '9', '5', '4', '7', '1', '8', '2', '6'],
			['7', '1', '4', '2', '8', '6', '5', '9', '3'],
			['2', '6', '8', '3', '9', '5', '1', '7', '4'],
			['6', '8', '1', '9', '5', '3', '7', '4', '2'],
			['9', '7', '2', '6', '4', '8', '3', '5', '1'],
			['4', '5', '3', '1', '2', '7', '9', '6', '8'],
		]

		self.__validateSolver(startData, solvedData)

	def test_solveReduceNakedSets(self):
		startData = [
			['4', ' ', ' ', '3', ' ', '8', ' ', ' ', '7'],
			[' ', '1', ' ', ' ', '7', '9', ' ', '4', ' '],
			[' ', ' ', ' ', '6', ' ', '4', ' ', ' ', ' '],
			[' ', '3', ' ', ' ', ' ', '7', ' ', '9', ' '],
			['6', '4', '8', '1', '9', '3', '2', '7', '5'],
			[' ', '7', ' ', ' ', ' ', '2', ' ', '1', ' '],
			[' ', ' ', ' ', '9', ' ', '5', ' ', ' ', ' '],
			[' ', '2', ' ', '7', '4', '1', ' ', '3', ' '],
			['1', ' ', ' ', '8', ' ', '6', ' ', ' ', '4'],
		]

		solvedData = [
			['4', '5', '2', '3', '1', '8', '9', '6', '7'],
			['3', '1', '6', '2', '7', '9', '5', '4', '8'],
			['9', '8', '7', '6', '5', '4', '3', '2', '1'],
			['2', '3', '1', '5', '8', '7', '4', '9', '6'],
			['6', '4', '8', '1', '9', '3', '2', '7', '5'],
			['5', '7', '9', '4', '6', '2', '8', '1', '3'],
			['7', '6', '4', '9', '3', '5', '1', '8', '2'],
			['8', '2', '5', '7', '4', '1', '6', '3', '9'],
			['1', '9', '3', '8', '2', '6', '7', '5', '4'],
		]

		self.__validateSolver(startData, solvedData)

	"""
	def test_template(self):
		startData = [
			[' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
			[' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
			[' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
			[' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
			[' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
			[' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
			[' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
			[' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
			[' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
		]

		solvedData = [
		]

		self.__validateSolver(startData, solvedData)
	"""

	###################
	# Private Methods #
	###################

	def __validateSolver(self, startData, solvedData):
		sudokuObj1 = Sudoku(data=startData)
		sudokuObj1.solve()

		sudokuObj2 = Sudoku(data=solvedData)

		self.assertEqual(sudokuObj1, sudokuObj2)


if __name__ == '__main__':
	unittest.main()
